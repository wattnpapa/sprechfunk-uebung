<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprechfunk Ãœbungsgenerator</title>
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <script type="module" src="bundle.js"></script>

    <meta name="description" content="Erstelle realistische Sprechfunk-Ãœbungen fÃ¼r Ausbildung und Training mit dem Sprechfunk Ãœbungsgenerator.">
    <meta name="keywords" content="Sprechfunk, BOS-Funk, FunkÃ¼bung, THW, Feuerwehr, Katastrophenschutz, Kommunikationstraining">
    <meta name="author" content="Johannes Rudolph">

    <meta property="og:title" content="Sprechfunk Ãœbungsgenerator">
    <meta property="og:description" content="Erstelle realistische Sprechfunk-Ãœbungen fÃ¼r Ausbildung und Training mit dem Sprechfunk Ãœbungsgenerator.">
    <meta property="og:url" content="https://sprechfunk-uebung.de">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Sprechfunk Ãœbungsgenerator">
    <meta name="twitter:description" content="Erstelle realistische Sprechfunk-Ãœbungen fÃ¼r Ausbildung und Training mit dem Sprechfunk Ãœbungsgenerator.">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7FN1RQ6MK4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-7FN1RQ6MK4');
    </script>

    <link rel="stylesheet" href="bundle.css">
    <link rel="stylesheet" href="style.css">
</head>

<body data-theme="light">
<header class="app-header">
    <div class="container app-header-grid">
        <div class="app-header-title">
            <h2 class="text-primary">
                <i class="fas fa-broadcast-tower"></i> Sprechfunk Ãœbungsgenerator
            </h2>
        </div>

        <div id="natoTime" class="nato-time"></div>

        <div class="app-header-actions d-none d-md-flex">
            <a href="https://github.com/wattnpapa/sprechfunk-uebung" class="btn btn-dark">
                <i class="fab fa-github"></i> GitHub
            </a>
            <button class="btn btn-info" data-bs-toggle="modal" data-bs-target="#howtoModal">
                <i class="fas fa-question-circle"></i> Anleitung
            </button>
            <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#authorModal">
                <i class="fas fa-user"></i> Ãœber den Autor
            </button>
            <button class="btn btn-outline-secondary" id="themeToggle">
                ğŸŒ™ Dark Mode
            </button>
        </div>

        <div class="app-header-burger d-md-none">
            <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li>
                    <a class="dropdown-item" href="https://github.com/wattnpapa/sprechfunk-uebung" target="_blank">
                        <i class="fab fa-github"></i> GitHub
                    </a>
                </li>
                <li>
                    <button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#howtoModal">
                        <i class="fas fa-question-circle"></i> Anleitung
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#authorModal">
                        <i class="fas fa-user"></i> Ãœber den Autor
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="themeToggleMobile">
                        ğŸŒ™ Dark Mode
                    </button>
                </li>
            </ul>
        </div>
    </div>
</header>

<!-- Container fÃ¼r die verschiedenen Views -->
<div id="uebungsleitungArea" style="display:none;">
    <div class="container my-4 app-view-shell">
        <div class="card mb-3">
            <div class="card-header"><h4 class="mb-0"><i class="fas fa-eye"></i> ÃœbungsÃ¼berwachung â€“ Ãœbungsleitung</h4></div>
            <div class="card-body" id="uebungsleitungMeta"></div>
        </div>
        <div class="card mb-3">
            <div class="card-header"><h4 class="mb-0"><i class="fas fa-users"></i> Teilnehmer</h4></div>
            <div class="card-body" id="uebungsleitungTeilnehmer"></div>
        </div>
        <div class="card">
            <div class="card-header">
                <div class="d-flex justify-content-between align-items-center">
                    <h4 class="mb-0"><i class="fas fa-list"></i> Nachrichtenplan</h4>
                    <div class="d-flex align-items-center gap-2" style="min-width:340px;">
                        <small class="text-body-secondary text-nowrap mb-0" id="nachrichtenProgressLabel">0 / 0</small>
                        <div class="progress flex-grow-1" style="height: 10px;">
                            <div id="nachrichtenProgressBar" class="progress-bar bg-success" role="progressbar" style="width: 0%;"></div>
                        </div>
                        <small class="text-body fw-semibold text-nowrap mb-0" id="nachrichtenEtaLabel">ETA: â€“</small>
                    </div>
                </div>
            </div>
            <div class="card-body" id="uebungsleitungNachrichten"></div>
        </div>
    </div>
</div>

<div id="teilnehmerArea" style="display:none;">
    <div class="container my-4 app-view-shell">
        <div id="teilnehmerContent"></div>
    </div>
</div>

<div id="mainAppArea" style="display: block;">
    <!-- Wird von GeneratorView.ts befÃ¼llt -->
</div>

<div id="adminArea" style="display: none;">
    <div class="container my-4 app-view-shell">
    <div class="card mt-4" id="adminUebungsliste">
        <div class="card-header">
            <h5 class="d-flex justify-content-between align-items-center">
                <span><i class="fas fa-database"></i> Gespeicherte Ãœbungen</span>
                <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="collapse" data-bs-target="#collapseAdminUebungen">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </h5>
        </div>
        <div id="collapseAdminUebungen" class="collapse show">
            <div class="card-body">
                <div class="mb-2">
                    <input id="adminSearchInput" type="search" class="form-control form-control-sm" placeholder="Ãœbungen filtern (Name, Rufgruppe, Leitung, ID)">
                </div>
                <div class="table-responsive">
                    <table class="table table-striped mt-3">
                        <thead>
                        <tr>
                            <th>Erstellt</th>
                            <th>Name der Ãœbung</th>
                            <th>Ãœbungsdatum</th>
                            <th>Rufgruppe</th>
                            <th>Leitung</th>
                            <th>Anzahl Teilnehmer</th>
                        </tr>
                        </thead>
                        <tbody id="adminUebungslisteBody"></tbody>
                    </table>
                    <div class="d-flex justify-content-between align-items-center px-3 py-2">
                        <div id="adminUebungslisteInfo" class="small text-muted"></div>
                        <div>
                            <button class="btn btn-sm btn-outline-secondary me-2" onclick="admin.ladeAlleUebungen('prev')">â† Vorherige</button>
                            <button class="btn btn-sm btn-outline-secondary" onclick="admin.ladeAlleUebungen('next')">NÃ¤chste â†’</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card mt-4" id="adminDashboardStats">
        <div class="card-header">
            <h5 class="d-flex justify-content-between align-items-center">
                <span><i class="fas fa-chart-line"></i> Statistik: Ãœbungen pro Zeit</span>
                <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="collapse" data-bs-target="#collapseAdminStats">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </h5>
        </div>
        <div id="collapseAdminStats" class="collapse show">
            <div class="card-body">
                <canvas id="chartUebungenProTag"></canvas>
                <small class="text-muted">Anzahl gespeicherter Ãœbungen nach Tag, Woche oder Monat</small>
            </div>
        </div>
    </div>

    <div class="card mt-4" id="adminSummary">
        <div class="card-header">
            <h5 class="d-flex justify-content-between align-items-center">
                <span><i class="fas fa-chart-pie"></i> Ãœbersicht: Kennzahlen</span>
                <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="collapse" data-bs-target="#collapseAdminSummary">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </h5>
        </div>
        <div id="collapseAdminSummary" class="collapse show">
            <div class="card-body">
                <ul class="list-group">
                    <li class="list-group-item"><strong>ğŸ“Š Gesamtzahl Ãœbungen:</strong> <span id="infoGesamtUebungen" class="float-end">â€“</span></li>
                    <li class="list-group-item"><strong>ğŸ“¡ Ã˜ FunksprÃ¼che pro Teilnehmer:</strong> <span id="infoSpruecheProTeilnehmer" class="float-end">â€“</span></li>
                    <li class="list-group-item"><strong>ğŸ“¦ Gesamtdatenmenge:</strong> <span id="infoGroesse" class="float-end">â€“</span></li>
                    <li class="list-group-item"><strong>ğŸ‘¥ Ã˜ Teilnehmerzahl:</strong> <span id="infoTeilnehmer" class="float-end">â€“</span></li>
                    <li class="list-group-item"><strong>â±ï¸ Ã˜ Ãœbungsdauer (geschÃ¤tzt):</strong> <span id="infoDauer" class="float-end">â€“</span></li>
                    <li class="list-group-item"><strong>ğŸ”¤ Anteil mit LÃ¶sungswÃ¶rtern:</strong> <span id="infoLoesungswort" class="float-end">â€“%</span></li>
                    <li class="list-group-item"><strong>ğŸ’ª Anteil mit StÃ¤rkemeldungen:</strong> <span id="infoStaerke" class="float-end">â€“%</span></li>
                    <li class="list-group-item"><strong>ğŸ§© Anteil mit Buchstabieraufgaben:</strong> <span id="infoBuchstabieren" class="float-end">â€“%</span></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</div>

<!-- Modals -->
<div class="modal fade" id="howtoModal" tabindex="-1" aria-labelledby="howtoModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="max-width: 90%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="howtoModalLabel">Anleitung</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body"><div id="howtoContent">LÃ¤dt...</div></div>
            <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">SchlieÃŸen</button></div>
        </div>
    </div>
</div>

<div class="modal fade" id="authorModal" tabindex="-1" aria-labelledby="authorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="authorModalLabel">Ãœber den Autor</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="SchlieÃŸen"></button>
            </div>
            <div class="modal-body text-center">
                <img src="https://www.gravatar.com/avatar/b4d8c8a87a392586b9caee287180163b?s=200" alt="Johannes Rudolph" class="rounded-circle mb-3" width="150" height="150">
                <h4>ğŸ‘‹ Moin! Ich bin Johannes.</h4>
                <p>Technik-Enthusiast, ProblemlÃ¶ser und immer auf der Suche nach smarten LÃ¶sungen â€“ sei es in der IT, im Ehrenamt oder im Alltag.</p>
                <h5>ğŸ’¼ Beruflich</h5>
                <p>Als <b>Head of Business Development</b> bei DIA Connecting Software bin ich die Schnittstelle zwischen Entwicklern, Kunden und Management. Mein Fokus liegt auf der <b>Vernetzung von Systemen</b>, um Unternehmen effizienter zu machen.</p>
                <h5>ğŸš€ Privat</h5>
                <p>In meiner Freizeit bin ich ein echter Macher â€“ sei es bei <b>DIY-Projekten, smarter Technik oder Heimautomation</b>.</p>
                <h5>ğŸ“Ÿ Ehrenamtliches Engagement</h5>
                <p>Seit <b>2007 bin ich beim Technischen Hilfswerk (THW)</b> aktiv. Aktuell bin ich <b>GruppenfÃ¼hrer der Fachgruppe Kommunikation</b> und <b>Bereichsausbilder fÃ¼r Sprechfunk</b>.</p>
                <h5>ğŸ“Œ Mein Motto:</h5>
                <p class="fst-italic">"Technik verstehen, vernetzen und sinnvoll einsetzen â€“ beruflich, privat und im Ehrenamt."</p>
                <h5>ğŸ“¡ Interessen:</h5>
                <ul class="list-unstyled">
                    <li>âœ” IT & Softwareentwicklung</li>
                    <li>âœ” Funktechnik & Kommunikation</li>
                    <li>âœ” Automatisierung & smarte Technologien</li>
                    <li>âœ” Katastrophenschutz & FÃ¼hrungsstrukturen</li>
                </ul>
            </div>
            <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">SchlieÃŸen</button></div>
        </div>
    </div>
</div>

<!-- JSON Modal (wird von GeneratorView genutzt) -->
<div class="modal fade" id="jsonModal" tabindex="-1" aria-labelledby="jsonModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="jsonModalLabel">Ãœbungsdaten als JSON</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="SchlieÃŸen"></button>
            </div>
            <div class="modal-body">
                <pre id="jsonOutput" style="white-space: pre-wrap; word-wrap: break-word; background-color: #f8f9fa; padding: 1rem; border-radius: .3rem;"></pre>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">SchlieÃŸen</button>
                <button id="copyJsonBtnFooter" class="btn btn-primary">ğŸ“‹ In Zwischenablage kopieren</button>
            </div>
        </div>
    </div>
</div>

<footer class="main-footer">
    <b>Version</b> <span id="version">dev</span> | <b>Ãœbung ID:</b> <span id="uebungsId">-</span>
    <strong>Â© Johannes Rudolph (<a href="mailto:johannes.rudolph@thw-oldenburg.de">johannes.rudolph@thw-oldenburg.de</a>) | <a href="https://sprechfunk-uebung.de/" target="_blank">Generator</a> | <a href="https://github.com/wattnpapa/sprechfunk-uebung" target="_blank">GitHub-Repository</a></strong>
</footer>

</body>
</html>
